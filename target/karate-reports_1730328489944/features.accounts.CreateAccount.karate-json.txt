{"failedCount":0,"prefixedPath":"classpath:features\/accounts\/CreateAccount.feature","packageQualifiedName":"features.accounts.CreateAccount","loopIndex":-1,"relativePath":"features\/accounts\/CreateAccount.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2605901,"startTime":1730246673438,"endTime":1730246673441,"millis":2.605901,"status":"passed"},"step":{"comments":["# Load the JSON file with account data"],"background":true,"line":6,"prefix":"*","index":0,"text":"def accountData = read('classpath:data\/accountData.json')"},"stepLog":"20:04:33.437 karate.env system property: null \n"},{"result":{"nanos":238900,"startTime":1730246673441,"endTime":1730246673441,"millis":0.2389,"status":"passed"},"step":{"comments":["# Access base URL and account details from the JSON file"],"background":true,"line":9,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":615800,"startTime":1730246673441,"endTime":1730246673442,"millis":0.6158,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"def account = accountData.account"}},{"result":{"nanos":445100,"startTime":1730246673441,"endTime":1730246673441,"millis":0.4451,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"def tokenGenerationFeature = accountData.tokenGenerationFeature"}},{"result":{"nanos":19478800,"startTime":1730246673442,"endTime":1730246673461,"millis":19.4788,"status":"passed"},"step":{"comments":["# Generate a unique email by appending a random number"],"background":true,"line":14,"prefix":"*","index":4,"text":"def randomNumber = Math.floor(Math.random() * 10000) + 1"}},{"result":{"nanos":23167801,"startTime":1730246673461,"endTime":1730246673484,"millis":23.167801,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":5,"text":"def uniqueEmail = account.email.replace(\"XXXX\", randomNumber.toString())"}},{"result":{"nanos":212300,"startTime":1730246673484,"endTime":1730246673484,"millis":0.2123,"status":"passed"},"step":{"line":19,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":561299,"startTime":1730246673484,"endTime":1730246673485,"millis":0.561299,"status":"passed"},"step":{"line":20,"prefix":"Given","index":1,"text":"path \"\/api\/accounts\/add-primary-account\""}},{"result":{"nanos":1824600,"startTime":1730246673486,"endTime":1730246673488,"millis":1.8246,"status":"passed"},"step":{"endLine":33,"line":21,"prefix":"Given","docString":"{\n  \"email\": \"#(uniqueEmail)\",\n  \"firstName\": \"#(account.firstName)\",\n  \"lastName\": \"#(account.lastName)\",\n  \"title\": \"#(account.title)\",\n  \"gender\": \"#(account.gender)\",\n  \"maritalStatus\": \"#(account.maritalStatus)\",\n  \"employmentStatus\": \"#(account.employmentStatus)\",\n  \"dateOfBirth\": \"#(account.dateOfBirth)\"\n}","index":2,"text":"request"}},{"result":{"nanos":538228200,"startTime":1730246673487,"endTime":1730246674025,"millis":538.2282,"status":"passed"},"step":{"line":34,"prefix":"When","index":3,"text":"method post"},"stepLog":"20:04:33.488 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/add-primary-account\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 216\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"mohammad_instructor3421@tekschool.us\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"title\":\"Mr.\",\"gender\":\"MALE\",\"maritalStatus\":\"Single\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":\"1985-02-27\"}\n\n20:04:34.025 response time in milliseconds: 537\n1 < 201\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:34 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"id\":11033,\"email\":\"mohammad_instructor3421@tekschool.us\",\"title\":\"Mr.\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"gender\":\"MALE\",\"maritalStatus\":\"SINGLE\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":[1985,2,27]}\n\n"},{"result":{"nanos":1028399,"startTime":1730246674026,"endTime":1730246674027,"millis":1.028399,"status":"passed"},"step":{"line":35,"prefix":"Then","index":4,"text":"print response"},"stepLog":"20:04:34.027 [print] {\n  \"id\": 11033,\n  \"email\": \"mohammad_instructor3421@tekschool.us\",\n  \"title\": \"Mr.\",\n  \"firstName\": \"Mohammad\",\n  \"lastName\": \"Shokriyan\",\n  \"gender\": \"MALE\",\n  \"maritalStatus\": \"SINGLE\",\n  \"employmentStatus\": \"Software Developer\",\n  \"dateOfBirth\": [\n    1985,\n    2,\n    27\n  ]\n}\n \n"},{"result":{"nanos":4900,"startTime":1730246674027,"endTime":1730246674027,"millis":0.0049,"status":"passed"},"step":{"line":36,"prefix":"Then","index":5,"text":"status 201"}},{"result":{"nanos":263100,"startTime":1730246674027,"endTime":1730246674027,"millis":0.2631,"status":"passed"},"step":{"line":37,"prefix":"Then","index":6,"text":"assert response.email == uniqueEmail"}},{"result":{"nanos":263800,"startTime":1730246674027,"endTime":1730246674027,"millis":0.2638,"status":"passed"},"step":{"comments":["# Save created account ID"],"line":40,"prefix":"*","index":7,"text":"def createdAccountId = response.id"}},{"result":{"nanos":652567400,"startTime":1730246674027,"endTime":1730246674680,"millis":652.5674,"status":"passed"},"step":{"comments":["# Generate token for authorization"],"line":43,"prefix":"*","index":8,"text":"def tokenGenerationResult = callonce read(tokenGenerationFeature)"},"stepLog":"20:04:34.680 << lock released, cached callonce: read(tokenGenerationFeature)\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/tokens\/GenerateSupervisorToken.feature","packageQualifiedName":"features.tokens.GenerateSupervisorToken","loopIndex":-1,"relativePath":"features\/tokens\/GenerateSupervisorToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1308100,"startTime":1730246674033,"endTime":1730246674034,"millis":1.3081,"status":"passed"},"step":{"comments":["# Load the JSON file"],"background":true,"line":6,"prefix":"*","index":0,"text":"def data = read('classpath:data\/credentials.json')"},"stepLog":"20:04:34.029 >> lock acquired, begin callonce: read(tokenGenerationFeature)\n"},{"result":{"nanos":116300,"startTime":1730246674034,"endTime":1730246674034,"millis":0.1163,"status":"passed"},"step":{"comments":["# Access values from the JSON file"],"background":true,"line":9,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":363101,"startTime":1730246674034,"endTime":1730246674034,"millis":0.363101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"def supervisorUsername = data.supervisorCredentials.username"}},{"result":{"nanos":302200,"startTime":1730246674034,"endTime":1730246674034,"millis":0.3022,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"def supervisorPassword = data.supervisorCredentials.password"}},{"result":{"nanos":87299,"startTime":1730246674035,"endTime":1730246674035,"millis":0.087299,"status":"passed"},"step":{"line":15,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":124899,"startTime":1730246674035,"endTime":1730246674035,"millis":0.124899,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"path '\/api\/token'"}},{"result":{"nanos":398500,"startTime":1730246674035,"endTime":1730246674035,"millis":0.3985,"status":"passed"},"step":{"endLine":23,"line":17,"prefix":"And","docString":"{\n  \"username\": \"#(supervisorUsername)\",\n  \"password\": \"#(supervisorPassword)\"\n}","index":2,"text":"request"}},{"result":{"nanos":643556100,"startTime":1730246674036,"endTime":1730246674680,"millis":643.5561,"status":"passed"},"step":{"line":24,"prefix":"When","index":3,"text":"method post"},"stepLog":"20:04:34.036 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}\n\n20:04:34.678 response time in milliseconds: 642\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:35 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"fullName\":\"Supervisor\",\"username\":\"supervisor\",\"token\":\"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NSwiaWF0IjoxNzMwMjQ2Njc1LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ZZLCXwJL7GkUs1B9T-F91lE9JJikkNvkr6fbidD9RX8\",\"tokenExpiration\":1730333075607,\"issueAt\":1730246675607,\"accountType\":\"CSR\"}\n\n"},{"result":{"nanos":10901,"startTime":1730246674679,"endTime":1730246674679,"millis":0.010901,"status":"passed"},"step":{"line":25,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":476300,"startTime":1730246674679,"endTime":1730246674679,"millis":0.4763,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"match response != null"}},{"result":{"nanos":283499,"startTime":1730246674680,"endTime":1730246674680,"millis":0.283499,"status":"passed"},"step":{"line":27,"prefix":"And","index":6,"text":"def authToken = response.token"}}],"line":14,"description":"","durationMillis":647.027199,"failed":false,"tags":["Regression"],"executorName":"pool-1-thread-1","name":"Generate valid token for supervisor","startTime":1730246674032,"refId":"[1:14]","endTime":1730246674680,"exampleIndex":-1}],"callDepth":1,"name":"Generate Token for Supervisor User","description":"","resultDate":"2024-10-29 08:04:34 PM","durationMillis":647.027199,"passedCount":1}]},{"result":{"nanos":273400,"startTime":1730246674680,"endTime":1730246674680,"millis":0.2734,"status":"passed"},"step":{"line":44,"prefix":"*","index":9,"text":"def validToken = \"Bearer \" + tokenGenerationResult.response.token"}},{"result":{"nanos":309500,"startTime":1730246674680,"endTime":1730246674680,"millis":0.3095,"status":"passed"},"step":{"comments":["# Delete the account created above"],"line":47,"prefix":"Given","index":10,"text":"path \"\/api\/accounts\/delete-account\""}},{"result":{"nanos":131001,"startTime":1730246674681,"endTime":1730246674681,"millis":0.131001,"status":"passed"},"step":{"line":48,"prefix":"Given","index":11,"text":"param primaryPersonId = createdAccountId"}},{"result":{"nanos":40401,"startTime":1730246674681,"endTime":1730246674681,"millis":0.040401,"status":"passed"},"step":{"line":49,"prefix":"Given","index":12,"text":"header Authorization = validToken"}},{"result":{"nanos":196675800,"startTime":1730246674681,"endTime":1730246674878,"millis":196.6758,"status":"passed"},"step":{"line":50,"prefix":"When","index":13,"text":"method delete"},"stepLog":"20:04:34.682 request:\n2 > DELETE https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/delete-account?primaryPersonId=11033\n2 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NSwiaWF0IjoxNzMwMjQ2Njc1LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ZZLCXwJL7GkUs1B9T-F91lE9JJikkNvkr6fbidD9RX8\n2 > Host: dev.insurance-api.tekschool-students.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n2 > Accept-Encoding: gzip,deflate\n\n\n20:04:34.878 response time in milliseconds: 194\n2 < 202\n2 < Content-Type: application\/json\n2 < Date: Wed, 30 Oct 2024 00:04:35 GMT\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Transfer-Encoding: chunked\n2 < Vary: Origin\n2 < Vary: Access-Control-Request-Method\n2 < Vary: Access-Control-Request-Headers\n2 < X-Content-Type-Options: nosniff\n2 < X-XSS-Protection: 1; mode=block\n2 < X-Frame-Options: DENY\n{\"status\":true,\"httpStatus\":\"ACCEPTED\",\"message\":\"Account Successfully deleted\"}\n\n"},{"result":{"nanos":266199,"startTime":1730246674878,"endTime":1730246674878,"millis":0.266199,"status":"passed"},"step":{"line":51,"prefix":"Then","index":14,"text":"status 202"}}],"line":18,"description":"","durationMillis":1439.202601,"failed":false,"tags":["NewAccount_1","Regression"],"executorName":"pool-1-thread-1","name":"Create new account","startTime":1730246673434,"refId":"[1:18]","endTime":1730246674878,"exampleIndex":-1}],"callDepth":0,"name":"Create Account Feature","description":"","resultDate":"2024-10-29 08:04:34 PM","durationMillis":1439.202601,"passedCount":1}