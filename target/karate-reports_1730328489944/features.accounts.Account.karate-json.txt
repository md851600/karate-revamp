{"failedCount":0,"prefixedPath":"classpath:features\/accounts\/Account.feature","packageQualifiedName":"features.accounts.Account","loopIndex":-1,"relativePath":"features\/accounts\/Account.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1081201,"startTime":1730246672126,"endTime":1730246672127,"millis":1.081201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"url baseUrl"},"stepLog":"20:04:32.091 karate.env system property: null \n"},{"result":{"nanos":1404545801,"startTime":1730246672144,"endTime":1730246673549,"millis":1404.545801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def generateTokenResult = callonce read('classpath:features\/tokens\/GenerateSupervisorToken.feature')"},"stepLog":"20:04:33.549 this thread waited 1402 milliseconds for callonce lock: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n"},{"result":{"nanos":1784599,"startTime":1730246673549,"endTime":1730246673551,"millis":1.784599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"Then","index":2,"text":"print generateTokenResult"},"stepLog":"20:04:33.551 [print] {\n  \"baseUrl\": \"https:\/\/dev.insurance-api.tekschool-students.com\",\n  \"responseHeaders\": {\n    \"Content-Type\": [\n      \"application\/json\"\n    ],\n    \"Date\": [\n      \"Wed, 30 Oct 2024 00:04:34 GMT\"\n    ],\n    \"Cache-Control\": [\n      \"no-cache, no-store, max-age=0, must-revalidate\"\n    ],\n    \"Expires\": [\n      \"0\"\n    ],\n    \"Pragma\": [\n      \"no-cache\"\n    ],\n    \"Transfer-Encoding\": [\n      \"chunked\"\n    ],\n    \"Vary\": [\n      \"Origin\",\n      \"Access-Control-Request-Method\",\n      \"Access-Control-Request-Headers\"\n    ],\n    \"X-Content-Type-Options\": [\n      \"nosniff\"\n    ],\n    \"X-XSS-Protection\": [\n      \"1; mode=block\"\n    ],\n    \"X-Frame-Options\": [\n      \"DENY\"\n    ],\n    \"Set-Cookie\": [\n    ]\n  },\n  \"data\": {\n    \"supervisorCredentials\": {\n      \"username\": \"supervisor\",\n      \"password\": \"tek_supervisor\"\n    },\n    \"operatorCredentials\": {\n      \"username\": \"operator_readonly\",\n      \"password\": \"Tek4u2024\"\n    }\n  },\n  \"responseTime\": 980,\n  \"response\": {\n    \"fullName\": \"Supervisor\",\n    \"username\": \"supervisor\",\n    \"token\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NCwiaWF0IjoxNzMwMjQ2Njc0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.UvWygmXnHDT1igcAId0Gsn3YzSMSdpXSppw2pczq_L4\",\n    \"tokenExpiration\": 1730333074470,\n    \"issueAt\": 1730246674470,\n    \"accountType\": \"CSR\"\n  },\n  \"supervisorPassword\": \"tek_supervisor\",\n  \"authToken\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NCwiaWF0IjoxNzMwMjQ2Njc0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.UvWygmXnHDT1igcAId0Gsn3YzSMSdpXSppw2pczq_L4\",\n  \"supervisorUsername\": \"supervisor\",\n  \"responseStatus\": 200\n}\n \n"},{"result":{"nanos":1118500,"startTime":1730246673551,"endTime":1730246673552,"millis":1.1185,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def validToken = \"Bearer \" + generateTokenResult.authToken"}},{"result":{"nanos":310500,"startTime":1730246673552,"endTime":1730246673552,"millis":0.3105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"Given","index":4,"text":"path \"\/api\/accounts\/get-account\""}},{"result":{"nanos":172999,"startTime":1730246673552,"endTime":1730246673552,"millis":0.172999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Given","index":5,"text":"header Authorization = validToken"}},{"result":{"nanos":2292900,"startTime":1730246673553,"endTime":1730246673555,"millis":2.2929,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def accountId = 9479"}},{"result":{"nanos":888800,"startTime":1730246673555,"endTime":1730246673556,"millis":0.8888,"status":"passed"},"step":{"line":15,"prefix":"Given","index":1,"text":"param primaryPersonId = accountId"}},{"result":{"nanos":494100600,"startTime":1730246673555,"endTime":1730246674049,"millis":494.1006,"status":"passed"},"step":{"line":16,"prefix":"When","index":2,"text":"method get"},"stepLog":"20:04:33.558 request:\n1 > GET https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/get-account?primaryPersonId=9479\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NCwiaWF0IjoxNzMwMjQ2Njc0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.UvWygmXnHDT1igcAId0Gsn3YzSMSdpXSppw2pczq_L4\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n\n\n20:04:34.049 response time in milliseconds: 491\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:34 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"primaryPerson\":{\"id\":9479,\"email\":\"khusravi_987@email.com\",\"title\":\"Mr.\",\"firstName\":\"Muhammad\",\"lastName\":\"Khusravi\",\"gender\":\"MALE\",\"maritalStatus\":\"MARRIED\",\"employmentStatus\":\"Employed\",\"dateOfBirth\":[1987,3,19]},\"primaryPersonMailingAddresses\":[],\"primaryPersonPhones\":[],\"primaryPersonCars\":[],\"plans\":[],\"user\":null}\n\n"},{"result":{"nanos":9199,"startTime":1730246674050,"endTime":1730246674050,"millis":0.009199,"status":"passed"},"step":{"line":17,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":1116700,"startTime":1730246674050,"endTime":1730246674051,"millis":1.1167,"status":"passed"},"step":{"line":18,"prefix":"Then","index":4,"text":"assert response.primaryPerson.id == accountId"}}],"line":13,"description":"","durationMillis":1907.421799,"failed":false,"tags":["Account_1","Regression"],"executorName":"pool-1-thread-3","name":"Testing \/api\/accounts\/get-account with valid accountId","startTime":1730246672024,"refId":"[1:13]","endTime":1730246674051,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1081100,"startTime":1730246672126,"endTime":1730246672127,"millis":1.0811,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"url baseUrl"},"stepLog":"20:04:32.091 karate.env system property: null \n"},{"result":{"nanos":1404464399,"startTime":1730246672144,"endTime":1730246673548,"millis":1404.464399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def generateTokenResult = callonce read('classpath:features\/tokens\/GenerateSupervisorToken.feature')"},"stepLog":"20:04:33.549 << lock released, cached callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/tokens\/GenerateSupervisorToken.feature","packageQualifiedName":"features.tokens.GenerateSupervisorToken","loopIndex":-1,"relativePath":"features\/tokens\/GenerateSupervisorToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":48348200,"startTime":1730246672154,"endTime":1730246672202,"millis":48.3482,"status":"passed"},"step":{"comments":["# Load the JSON file"],"background":true,"line":6,"prefix":"*","index":0,"text":"def data = read('classpath:data\/credentials.json')"},"stepLog":"20:04:32.147 >> lock acquired, begin callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n"},{"result":{"nanos":666500,"startTime":1730246672202,"endTime":1730246672203,"millis":0.6665,"status":"passed"},"step":{"comments":["# Access values from the JSON file"],"background":true,"line":9,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":711100,"startTime":1730246672203,"endTime":1730246672204,"millis":0.7111,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"def supervisorUsername = data.supervisorCredentials.username"}},{"result":{"nanos":408900,"startTime":1730246672204,"endTime":1730246672204,"millis":0.4089,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"def supervisorPassword = data.supervisorCredentials.password"}},{"result":{"nanos":128300,"startTime":1730246672204,"endTime":1730246672204,"millis":0.1283,"status":"passed"},"step":{"line":15,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":250400,"startTime":1730246672204,"endTime":1730246672204,"millis":0.2504,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"path '\/api\/token'"}},{"result":{"nanos":1609400,"startTime":1730246672205,"endTime":1730246672207,"millis":1.6094,"status":"passed"},"step":{"endLine":23,"line":17,"prefix":"And","docString":"{\n  \"username\": \"#(supervisorUsername)\",\n  \"password\": \"#(supervisorPassword)\"\n}","index":2,"text":"request"}},{"result":{"nanos":1340446800,"startTime":1730246672206,"endTime":1730246673546,"millis":1340.4468,"status":"passed"},"step":{"line":24,"prefix":"When","index":3,"text":"method post"},"stepLog":"20:04:32.565 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}\n\n20:04:33.546 response time in milliseconds: 980\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:34 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"fullName\":\"Supervisor\",\"username\":\"supervisor\",\"token\":\"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NCwiaWF0IjoxNzMwMjQ2Njc0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.UvWygmXnHDT1igcAId0Gsn3YzSMSdpXSppw2pczq_L4\",\"tokenExpiration\":1730333074470,\"issueAt\":1730246674470,\"accountType\":\"CSR\"}\n\n"},{"result":{"nanos":8100,"startTime":1730246673547,"endTime":1730246673547,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":934600,"startTime":1730246673547,"endTime":1730246673548,"millis":0.9346,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"match response != null"}},{"result":{"nanos":461000,"startTime":1730246673548,"endTime":1730246673548,"millis":0.461,"status":"passed"},"step":{"line":27,"prefix":"And","index":6,"text":"def authToken = response.token"}}],"line":14,"description":"","durationMillis":1393.9733,"failed":false,"tags":["Regression"],"executorName":"pool-1-thread-4","name":"Generate valid token for supervisor","startTime":1730246672153,"refId":"[1:14]","endTime":1730246673549,"exampleIndex":-1}],"callDepth":1,"name":"Generate Token for Supervisor User","description":"","resultDate":"2024-10-29 08:04:34 PM","durationMillis":1393.9733,"passedCount":1}]},{"result":{"nanos":1836000,"startTime":1730246673549,"endTime":1730246673551,"millis":1.836,"status":"passed"},"step":{"background":true,"line":7,"prefix":"Then","index":2,"text":"print generateTokenResult"},"stepLog":"20:04:33.551 [print] {\n  \"baseUrl\": \"https:\/\/dev.insurance-api.tekschool-students.com\",\n  \"responseHeaders\": {\n    \"Content-Type\": [\n      \"application\/json\"\n    ],\n    \"Date\": [\n      \"Wed, 30 Oct 2024 00:04:34 GMT\"\n    ],\n    \"Cache-Control\": [\n      \"no-cache, no-store, max-age=0, must-revalidate\"\n    ],\n    \"Expires\": [\n      \"0\"\n    ],\n    \"Pragma\": [\n      \"no-cache\"\n    ],\n    \"Transfer-Encoding\": [\n      \"chunked\"\n    ],\n    \"Vary\": [\n      \"Origin\",\n      \"Access-Control-Request-Method\",\n      \"Access-Control-Request-Headers\"\n    ],\n    \"X-Content-Type-Options\": [\n      \"nosniff\"\n    ],\n    \"X-XSS-Protection\": [\n      \"1; mode=block\"\n    ],\n    \"X-Frame-Options\": [\n      \"DENY\"\n    ],\n    \"Set-Cookie\": [\n    ]\n  },\n  \"data\": {\n    \"supervisorCredentials\": {\n      \"username\": \"supervisor\",\n      \"password\": \"tek_supervisor\"\n    },\n    \"operatorCredentials\": {\n      \"username\": \"operator_readonly\",\n      \"password\": \"Tek4u2024\"\n    }\n  },\n  \"responseTime\": 980,\n  \"response\": {\n    \"fullName\": \"Supervisor\",\n    \"username\": \"supervisor\",\n    \"token\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NCwiaWF0IjoxNzMwMjQ2Njc0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.UvWygmXnHDT1igcAId0Gsn3YzSMSdpXSppw2pczq_L4\",\n    \"tokenExpiration\": 1730333074470,\n    \"issueAt\": 1730246674470,\n    \"accountType\": \"CSR\"\n  },\n  \"supervisorPassword\": \"tek_supervisor\",\n  \"authToken\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NCwiaWF0IjoxNzMwMjQ2Njc0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.UvWygmXnHDT1igcAId0Gsn3YzSMSdpXSppw2pczq_L4\",\n  \"supervisorUsername\": \"supervisor\",\n  \"responseStatus\": 200\n}\n \n"},{"result":{"nanos":1117001,"startTime":1730246673551,"endTime":1730246673552,"millis":1.117001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def validToken = \"Bearer \" + generateTokenResult.authToken"}},{"result":{"nanos":263000,"startTime":1730246673552,"endTime":1730246673552,"millis":0.263,"status":"passed"},"step":{"background":true,"line":9,"prefix":"Given","index":4,"text":"path \"\/api\/accounts\/get-account\""}},{"result":{"nanos":162900,"startTime":1730246673552,"endTime":1730246673552,"millis":0.1629,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Given","index":5,"text":"header Authorization = validToken"}},{"result":{"nanos":2352901,"startTime":1730246673553,"endTime":1730246673555,"millis":2.352901,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def accountId = 55231"}},{"result":{"nanos":888600,"startTime":1730246673555,"endTime":1730246673556,"millis":0.8886,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"param primaryPersonId = accountId"}},{"result":{"nanos":449259000,"startTime":1730246673555,"endTime":1730246674004,"millis":449.259,"status":"passed"},"step":{"line":24,"prefix":"When","index":2,"text":"method get"},"stepLog":"20:04:33.558 request:\n1 > GET https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/get-account?primaryPersonId=55231\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NCwiaWF0IjoxNzMwMjQ2Njc0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.UvWygmXnHDT1igcAId0Gsn3YzSMSdpXSppw2pczq_L4\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n\n\n20:04:34.004 response time in milliseconds: 445\n1 < 404\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:34 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"httpStatus\":\"NOT_FOUND\",\"errorMessage\":\"Account with id 55231 not found\"}\n\n"},{"result":{"nanos":10600,"startTime":1730246674005,"endTime":1730246674005,"millis":0.0106,"status":"passed"},"step":{"comments":["#    Optional step just in case if you would like to print the response","#    Then print response"],"line":27,"prefix":"Then","index":3,"text":"status 404"}},{"result":{"nanos":1919400,"startTime":1730246674005,"endTime":1730246674007,"millis":1.9194,"status":"passed"},"step":{"line":28,"prefix":"Then","index":4,"text":"assert response.errorMessage == \"Account with id \" + accountId + \" not found\""}}],"line":21,"description":"","durationMillis":1863.354901,"failed":false,"tags":["Regression","Account_2"],"executorName":"pool-1-thread-4","name":"Testing \/api\/accounts\/get-account with non-existing accountId","startTime":1730246672024,"refId":"[2:21]","endTime":1730246674007,"exampleIndex":-1}],"callDepth":0,"name":"Testing Account APIs","description":"","resultDate":"2024-10-29 08:04:34 PM","durationMillis":3770.7767,"passedCount":2}