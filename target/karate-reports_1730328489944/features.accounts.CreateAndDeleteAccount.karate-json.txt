{"failedCount":0,"prefixedPath":"classpath:features\/accounts\/CreateAndDeleteAccount.feature","packageQualifiedName":"features.accounts.CreateAndDeleteAccount","loopIndex":-1,"relativePath":"features\/accounts\/CreateAndDeleteAccount.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":87400,"startTime":1730246674016,"endTime":1730246674016,"millis":0.0874,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"url baseUrl"},"stepLog":"20:04:34.014 karate.env system property: null \n"},{"result":{"nanos":731583601,"startTime":1730246674016,"endTime":1730246674748,"millis":731.583601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def supervisorToken = callonce read('classpath:features\/tokens\/GenerateSupervisorToken.feature')"},"stepLog":"20:04:34.748 << lock released, cached callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/tokens\/GenerateSupervisorToken.feature","packageQualifiedName":"features.tokens.GenerateSupervisorToken","loopIndex":-1,"relativePath":"features\/tokens\/GenerateSupervisorToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":920500,"startTime":1730246674021,"endTime":1730246674022,"millis":0.9205,"status":"passed"},"step":{"comments":["# Load the JSON file"],"background":true,"line":6,"prefix":"*","index":0,"text":"def data = read('classpath:data\/credentials.json')"},"stepLog":"20:04:34.017 >> lock acquired, begin callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n"},{"result":{"nanos":72401,"startTime":1730246674022,"endTime":1730246674022,"millis":0.072401,"status":"passed"},"step":{"comments":["# Access values from the JSON file"],"background":true,"line":9,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":290000,"startTime":1730246674022,"endTime":1730246674022,"millis":0.29,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"def supervisorUsername = data.supervisorCredentials.username"}},{"result":{"nanos":220700,"startTime":1730246674023,"endTime":1730246674023,"millis":0.2207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"def supervisorPassword = data.supervisorCredentials.password"}},{"result":{"nanos":54801,"startTime":1730246674023,"endTime":1730246674023,"millis":0.054801,"status":"passed"},"step":{"line":15,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":119000,"startTime":1730246674023,"endTime":1730246674023,"millis":0.119,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"path '\/api\/token'"}},{"result":{"nanos":385999,"startTime":1730246674023,"endTime":1730246674023,"millis":0.385999,"status":"passed"},"step":{"endLine":23,"line":17,"prefix":"And","docString":"{\n  \"username\": \"#(supervisorUsername)\",\n  \"password\": \"#(supervisorPassword)\"\n}","index":2,"text":"request"}},{"result":{"nanos":723746999,"startTime":1730246674024,"endTime":1730246674748,"millis":723.746999,"status":"passed"},"step":{"line":24,"prefix":"When","index":3,"text":"method post"},"stepLog":"20:04:34.025 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}\n\n20:04:34.747 response time in milliseconds: 722\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:35 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"fullName\":\"Supervisor\",\"username\":\"supervisor\",\"token\":\"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NSwiaWF0IjoxNzMwMjQ2Njc1LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ZZLCXwJL7GkUs1B9T-F91lE9JJikkNvkr6fbidD9RX8\",\"tokenExpiration\":1730333075658,\"issueAt\":1730246675658,\"accountType\":\"CSR\"}\n\n"},{"result":{"nanos":7001,"startTime":1730246674747,"endTime":1730246674747,"millis":0.007001,"status":"passed"},"step":{"line":25,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":368700,"startTime":1730246674747,"endTime":1730246674747,"millis":0.3687,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"match response != null"}},{"result":{"nanos":237300,"startTime":1730246674748,"endTime":1730246674748,"millis":0.2373,"status":"passed"},"step":{"line":27,"prefix":"And","index":6,"text":"def authToken = response.token"}}],"line":14,"description":"","durationMillis":726.423401,"failed":false,"tags":["Regression"],"executorName":"pool-1-thread-4","name":"Generate valid token for supervisor","startTime":1730246674021,"refId":"[1:14]","endTime":1730246674748,"exampleIndex":-1}],"callDepth":1,"name":"Generate Token for Supervisor User","description":"","resultDate":"2024-10-29 08:04:35 PM","durationMillis":726.423401,"passedCount":1}]},{"result":{"nanos":264400,"startTime":1730246674748,"endTime":1730246674748,"millis":0.2644,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def token = \"Bearer \" + supervisorToken.response.token"}},{"result":{"nanos":148709500,"startTime":1730246674748,"endTime":1730246674897,"millis":148.7095,"status":"passed"},"step":{"comments":["# Step 1: Create Account"],"line":12,"prefix":"*","index":0,"text":"def createAccount = callonce read('classpath:features\/accounts\/CreateAccountWithRandomEmail.feature')"},"stepLog":"20:04:34.897 << lock released, cached callonce: read('classpath:features\/accounts\/CreateAccountWithRandomEmail.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/accounts\/CreateAccountWithRandomEmail.feature","packageQualifiedName":"features.accounts.CreateAccountWithRandomEmail","loopIndex":-1,"relativePath":"features\/accounts\/CreateAccountWithRandomEmail.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":687400,"startTime":1730246674751,"endTime":1730246674752,"millis":0.6874,"status":"passed"},"step":{"comments":["# Load the account data from the JSON file"],"background":true,"line":6,"prefix":"*","index":0,"text":"def accountData = read('classpath:data\/accountData.json')"},"stepLog":"20:04:34.749 >> lock acquired, begin callonce: read('classpath:features\/accounts\/CreateAccountWithRandomEmail.feature')\n"},{"result":{"nanos":60600,"startTime":1730246674752,"endTime":1730246674752,"millis":0.0606,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":148800,"startTime":1730246674752,"endTime":1730246674752,"millis":0.1488,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def account = accountData.account"}},{"result":{"nanos":320499,"startTime":1730246674752,"endTime":1730246674752,"millis":0.320499,"status":"passed"},"step":{"comments":["# Generate a random email using the Java utility class"],"background":true,"line":11,"prefix":"*","index":3,"text":"def dataGenerator = Java.type('utilities.GenerateEmail')"}},{"result":{"nanos":234599,"startTime":1730246674753,"endTime":1730246674753,"millis":0.234599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def email = dataGenerator.generateRandomEmail()"}},{"result":{"nanos":42399,"startTime":1730246674753,"endTime":1730246674753,"millis":0.042399,"status":"passed"},"step":{"line":17,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":98901,"startTime":1730246674753,"endTime":1730246674753,"millis":0.098901,"status":"passed"},"step":{"line":18,"prefix":"Given","index":1,"text":"path \"\/api\/accounts\/add-primary-account\""}},{"result":{"nanos":1043700,"startTime":1730246674753,"endTime":1730246674754,"millis":1.0437,"status":"passed"},"step":{"endLine":31,"line":19,"prefix":"Given","docString":"{\n  \"email\": \"#(email)\",\n  \"firstName\": \"#(account.firstName)\",\n  \"lastName\": \"#(account.lastName)\",\n  \"title\": \"#(account.title)\",\n  \"gender\": \"#(account.gender)\",\n  \"maritalStatus\": \"#(account.maritalStatus)\",\n  \"employmentStatus\": \"#(account.employmentStatus)\",\n  \"dateOfBirth\": \"#(account.dateOfBirth)\"\n}","index":2,"text":"request"}},{"result":{"nanos":141141100,"startTime":1730246674754,"endTime":1730246674895,"millis":141.1411,"status":"passed"},"step":{"line":32,"prefix":"When","index":3,"text":"method post"},"stepLog":"20:04:34.755 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/add-primary-account\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 205\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"test28453760@tekSchool.us\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"title\":\"Mr.\",\"gender\":\"MALE\",\"maritalStatus\":\"Single\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":\"1985-02-27\"}\n\n20:04:34.895 response time in milliseconds: 140\n1 < 201\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:35 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"id\":11035,\"email\":\"test28453760@tekSchool.us\",\"title\":\"Mr.\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"gender\":\"MALE\",\"maritalStatus\":\"SINGLE\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":[1985,2,27]}\n\n"},{"result":{"nanos":945600,"startTime":1730246674895,"endTime":1730246674896,"millis":0.9456,"status":"passed"},"step":{"line":33,"prefix":"Then","index":4,"text":"print response"},"stepLog":"20:04:34.896 [print] {\n  \"id\": 11035,\n  \"email\": \"test28453760@tekSchool.us\",\n  \"title\": \"Mr.\",\n  \"firstName\": \"Mohammad\",\n  \"lastName\": \"Shokriyan\",\n  \"gender\": \"MALE\",\n  \"maritalStatus\": \"SINGLE\",\n  \"employmentStatus\": \"Software Developer\",\n  \"dateOfBirth\": [\n    1985,\n    2,\n    27\n  ]\n}\n \n"},{"result":{"nanos":12500,"startTime":1730246674896,"endTime":1730246674896,"millis":0.0125,"status":"passed"},"step":{"line":34,"prefix":"Then","index":5,"text":"status 201"}},{"result":{"nanos":220199,"startTime":1730246674896,"endTime":1730246674896,"millis":0.220199,"status":"passed"},"step":{"line":35,"prefix":"Then","index":6,"text":"assert response.email == email"}}],"line":16,"description":"","durationMillis":144.956297,"failed":false,"tags":["Regression","CreateAccount_2"],"executorName":"pool-1-thread-4","name":"Create Account using Java and random email","startTime":1730246674751,"refId":"[1:16]","endTime":1730246674897,"exampleIndex":-1}],"callDepth":1,"name":"Create new Account with Random Email","description":"","resultDate":"2024-10-29 08:04:35 PM","durationMillis":144.956297,"passedCount":1}]},{"result":{"nanos":197600,"startTime":1730246674897,"endTime":1730246674897,"millis":0.1976,"status":"passed"},"step":{"line":13,"prefix":"*","index":1,"text":"def newAccountId = createAccount.response.id"}},{"result":{"nanos":71600,"startTime":1730246674897,"endTime":1730246674897,"millis":0.0716,"status":"passed"},"step":{"comments":["# Step 2: Retrieve the created account and verify details"],"line":16,"prefix":"Given","index":2,"text":"path \"\/api\/accounts\/get-account\""}},{"result":{"nanos":44200,"startTime":1730246674897,"endTime":1730246674897,"millis":0.0442,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"header Authorization = token"}},{"result":{"nanos":66900,"startTime":1730246674897,"endTime":1730246674897,"millis":0.0669,"status":"passed"},"step":{"line":18,"prefix":"And","index":4,"text":"param primaryPersonId = newAccountId"}},{"result":{"nanos":321976000,"startTime":1730246674897,"endTime":1730246675219,"millis":321.976,"status":"passed"},"step":{"line":19,"prefix":"When","index":5,"text":"method get"},"stepLog":"20:04:34.898 request:\n1 > GET https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/get-account?primaryPersonId=11035\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NSwiaWF0IjoxNzMwMjQ2Njc1LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ZZLCXwJL7GkUs1B9T-F91lE9JJikkNvkr6fbidD9RX8\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n\n\n20:04:35.219 response time in milliseconds: 320\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 00:04:35 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"primaryPerson\":{\"id\":11035,\"email\":\"test28453760@tekSchool.us\",\"title\":\"Mr.\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"gender\":\"MALE\",\"maritalStatus\":\"SINGLE\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":[1985,2,27]},\"primaryPersonMailingAddresses\":[],\"primaryPersonPhones\":[],\"primaryPersonCars\":[],\"plans\":[],\"user\":null}\n\n"},{"result":{"nanos":5400,"startTime":1730246675219,"endTime":1730246675219,"millis":0.0054,"status":"passed"},"step":{"line":20,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":432400,"startTime":1730246675219,"endTime":1730246675219,"millis":0.4324,"status":"passed"},"step":{"line":21,"prefix":"And","index":7,"text":"assert response.primaryPerson.id == newAccountId"}},{"result":{"nanos":157301,"startTime":1730246675220,"endTime":1730246675220,"millis":0.157301,"status":"passed"},"step":{"line":22,"prefix":"And","index":8,"text":"assert response.primaryPerson.email == createAccount.response.email"}},{"result":{"nanos":187200,"startTime":1730246675220,"endTime":1730246675220,"millis":0.1872,"status":"passed"},"step":{"line":23,"prefix":"And","index":9,"text":"assert response.primaryPerson.gender == createAccount.response.gender"}},{"result":{"nanos":120200,"startTime":1730246675220,"endTime":1730246675220,"millis":0.1202,"status":"passed"},"step":{"line":24,"prefix":"And","index":10,"text":"assert response.primaryPerson.firstName == createAccount.response.firstName"}},{"result":{"nanos":72100,"startTime":1730246675220,"endTime":1730246675220,"millis":0.0721,"status":"passed"},"step":{"comments":["# Step 3: Delete the created account"],"line":27,"prefix":"Given","index":11,"text":"path \"\/api\/accounts\/delete-account\""}},{"result":{"nanos":113201,"startTime":1730246675220,"endTime":1730246675220,"millis":0.113201,"status":"passed"},"step":{"line":28,"prefix":"And","index":12,"text":"param primaryPersonId = newAccountId"}},{"result":{"nanos":29300,"startTime":1730246675220,"endTime":1730246675220,"millis":0.0293,"status":"passed"},"step":{"line":29,"prefix":"And","index":13,"text":"header Authorization = token"}},{"result":{"nanos":391431900,"startTime":1730246675220,"endTime":1730246675611,"millis":391.4319,"status":"passed"},"step":{"line":30,"prefix":"When","index":14,"text":"method delete"},"stepLog":"20:04:35.221 request:\n2 > DELETE https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/delete-account?primaryPersonId=11035\n2 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NSwiaWF0IjoxNzMwMjQ2Njc1LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ZZLCXwJL7GkUs1B9T-F91lE9JJikkNvkr6fbidD9RX8\n2 > Host: dev.insurance-api.tekschool-students.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n2 > Accept-Encoding: gzip,deflate\n\n\n20:04:35.612 response time in milliseconds: 391\n2 < 202\n2 < Content-Type: application\/json\n2 < Date: Wed, 30 Oct 2024 00:04:35 GMT\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Transfer-Encoding: chunked\n2 < Vary: Origin\n2 < Vary: Access-Control-Request-Method\n2 < Vary: Access-Control-Request-Headers\n2 < X-Content-Type-Options: nosniff\n2 < X-XSS-Protection: 1; mode=block\n2 < X-Frame-Options: DENY\n{\"status\":true,\"httpStatus\":\"ACCEPTED\",\"message\":\"Account Successfully deleted\"}\n\n"},{"result":{"nanos":5599,"startTime":1730246675612,"endTime":1730246675612,"millis":0.005599,"status":"passed"},"step":{"line":31,"prefix":"Then","index":15,"text":"status 202"}},{"result":{"nanos":53101,"startTime":1730246675612,"endTime":1730246675612,"millis":0.053101,"status":"passed"},"step":{"comments":["# Step 4: Verify the account no longer exists by attempting another delete"],"line":34,"prefix":"Given","index":16,"text":"path \"\/api\/accounts\/delete-account\""}},{"result":{"nanos":83200,"startTime":1730246675612,"endTime":1730246675612,"millis":0.0832,"status":"passed"},"step":{"line":35,"prefix":"And","index":17,"text":"param primaryPersonId = newAccountId"}},{"result":{"nanos":23199,"startTime":1730246675612,"endTime":1730246675612,"millis":0.023199,"status":"passed"},"step":{"line":36,"prefix":"And","index":18,"text":"header Authorization = token"}},{"result":{"nanos":181903301,"startTime":1730246675612,"endTime":1730246675794,"millis":181.903301,"status":"passed"},"step":{"line":37,"prefix":"When","index":19,"text":"method delete"},"stepLog":"20:04:35.613 request:\n3 > DELETE https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/delete-account?primaryPersonId=11035\n3 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDMzMzA3NSwiaWF0IjoxNzMwMjQ2Njc1LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ZZLCXwJL7GkUs1B9T-F91lE9JJikkNvkr6fbidD9RX8\n3 > Host: dev.insurance-api.tekschool-students.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n3 > Accept-Encoding: gzip,deflate\n\n\n20:04:35.794 response time in milliseconds: 181\n3 < 404\n3 < Content-Type: application\/json\n3 < Date: Wed, 30 Oct 2024 00:04:36 GMT\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Transfer-Encoding: chunked\n3 < Vary: Origin\n3 < Vary: Access-Control-Request-Method\n3 < Vary: Access-Control-Request-Headers\n3 < X-Content-Type-Options: nosniff\n3 < X-XSS-Protection: 1; mode=block\n3 < X-Frame-Options: DENY\n{\"httpStatus\":\"NOT_FOUND\",\"errorMessage\":\"Account with id 11035 not exist\"}\n\n"},{"result":{"nanos":5400,"startTime":1730246675795,"endTime":1730246675795,"millis":0.0054,"status":"passed"},"step":{"line":38,"prefix":"Then","index":20,"text":"status 404"}},{"result":{"nanos":666300,"startTime":1730246675795,"endTime":1730246675796,"millis":0.6663,"status":"passed"},"step":{"line":39,"prefix":"And","index":21,"text":"assert response.errorMessage == \"Account with id \" + newAccountId + \" not exist\""}}],"line":10,"description":"","durationMillis":1778.290303,"failed":false,"tags":["End2EndAccount","Regression"],"executorName":"pool-1-thread-4","name":"Successfully create, retrieve, and delete an account","startTime":1730246674013,"refId":"[1:10]","endTime":1730246675795,"exampleIndex":-1}],"callDepth":0,"name":"End-to-End Testing: Create to Delete an Account","description":"","resultDate":"2024-10-29 08:04:35 PM","durationMillis":1778.290303,"passedCount":1}