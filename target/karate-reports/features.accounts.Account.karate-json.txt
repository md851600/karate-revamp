{"failedCount":0,"prefixedPath":"classpath:features\/accounts\/Account.feature","packageQualifiedName":"features.accounts.Account","loopIndex":-1,"relativePath":"features\/accounts\/Account.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1073300,"startTime":1730328490777,"endTime":1730328490778,"millis":1.0733,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"url baseUrl"},"stepLog":"18:48:10.745 karate.env system property: null \n"},{"result":{"nanos":1307113500,"startTime":1730328490793,"endTime":1730328492100,"millis":1307.1135,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def generateTokenResult = callonce read('classpath:features\/tokens\/GenerateSupervisorToken.feature')"},"stepLog":"18:48:12.099 this thread waited 1304 milliseconds for callonce lock: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n"},{"result":{"nanos":1381200,"startTime":1730328492099,"endTime":1730328492100,"millis":1.3812,"status":"passed"},"step":{"background":true,"line":7,"prefix":"Then","index":2,"text":"print generateTokenResult"},"stepLog":"18:48:12.102 [print] {\n  \"baseUrl\": \"https:\/\/dev.insurance-api.tekschool-students.com\",\n  \"responseHeaders\": {\n    \"Content-Type\": [\n      \"application\/json\"\n    ],\n    \"Date\": [\n      \"Wed, 30 Oct 2024 22:48:12 GMT\"\n    ],\n    \"Cache-Control\": [\n      \"no-cache, no-store, max-age=0, must-revalidate\"\n    ],\n    \"Expires\": [\n      \"0\"\n    ],\n    \"Pragma\": [\n      \"no-cache\"\n    ],\n    \"Transfer-Encoding\": [\n      \"chunked\"\n    ],\n    \"Vary\": [\n      \"Origin\",\n      \"Access-Control-Request-Method\",\n      \"Access-Control-Request-Headers\"\n    ],\n    \"X-Content-Type-Options\": [\n      \"nosniff\"\n    ],\n    \"X-XSS-Protection\": [\n      \"1; mode=block\"\n    ],\n    \"X-Frame-Options\": [\n      \"DENY\"\n    ],\n    \"Set-Cookie\": [\n    ]\n  },\n  \"data\": {\n    \"supervisorCredentials\": {\n      \"username\": \"supervisor\",\n      \"password\": \"tek_supervisor\"\n    },\n    \"operatorCredentials\": {\n      \"username\": \"operator_readonly\",\n      \"password\": \"Tek4u2024\"\n    }\n  },\n  \"responseTime\": 861,\n  \"response\": {\n    \"fullName\": \"Supervisor\",\n    \"username\": \"supervisor\",\n    \"token\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5MiwiaWF0IjoxNzMwMzI4NDkyLCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ip4m9kFFOdoGv_silM8mPeitlntmeLIa9Xp-p-dZGmA\",\n    \"tokenExpiration\": 1730414892929,\n    \"issueAt\": 1730328492929,\n    \"accountType\": \"CSR\"\n  },\n  \"supervisorPassword\": \"tek_supervisor\",\n  \"authToken\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5MiwiaWF0IjoxNzMwMzI4NDkyLCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ip4m9kFFOdoGv_silM8mPeitlntmeLIa9Xp-p-dZGmA\",\n  \"supervisorUsername\": \"supervisor\",\n  \"responseStatus\": 200\n}\n \n"},{"result":{"nanos":1688100,"startTime":1730328492102,"endTime":1730328492104,"millis":1.6881,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def validToken = \"Bearer \" + generateTokenResult.authToken"}},{"result":{"nanos":216100,"startTime":1730328492104,"endTime":1730328492104,"millis":0.2161,"status":"passed"},"step":{"background":true,"line":9,"prefix":"Given","index":4,"text":"path \"\/api\/accounts\/get-account\""}},{"result":{"nanos":173600,"startTime":1730328492104,"endTime":1730328492104,"millis":0.1736,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Given","index":5,"text":"header Authorization = validToken"}},{"result":{"nanos":1284900,"startTime":1730328492104,"endTime":1730328492105,"millis":1.2849,"status":"passed"},"step":{"line":14,"prefix":"*","index":0,"text":"def accountId = 9479"}},{"result":{"nanos":942600,"startTime":1730328492105,"endTime":1730328492106,"millis":0.9426,"status":"passed"},"step":{"line":15,"prefix":"Given","index":1,"text":"param primaryPersonId = accountId"}},{"result":{"nanos":185206100,"startTime":1730328492106,"endTime":1730328492291,"millis":185.2061,"status":"passed"},"step":{"line":16,"prefix":"When","index":2,"text":"method get"},"stepLog":"18:48:12.108 request:\n1 > GET https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/get-account?primaryPersonId=9479\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5MiwiaWF0IjoxNzMwMzI4NDkyLCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ip4m9kFFOdoGv_silM8mPeitlntmeLIa9Xp-p-dZGmA\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:48:12.291 response time in milliseconds: 182\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 22:48:12 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"primaryPerson\":{\"id\":9479,\"email\":\"khusravi_987@email.com\",\"title\":\"Mr.\",\"firstName\":\"Muhammad\",\"lastName\":\"Khusravi\",\"gender\":\"MALE\",\"maritalStatus\":\"MARRIED\",\"employmentStatus\":\"Employed\",\"dateOfBirth\":[1987,3,19]},\"primaryPersonMailingAddresses\":[],\"primaryPersonPhones\":[],\"primaryPersonCars\":[],\"plans\":[],\"user\":null}\n\n"},{"result":{"nanos":5500,"startTime":1730328492292,"endTime":1730328492292,"millis":0.0055,"status":"passed"},"step":{"line":17,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":275600,"startTime":1730328492292,"endTime":1730328492292,"millis":0.2756,"status":"passed"},"step":{"line":18,"prefix":"Then","index":4,"text":"assert response.primaryPerson.id == accountId"}}],"line":13,"description":"","durationMillis":1499.3605,"failed":false,"tags":["Account_1","Regression"],"executorName":"pool-1-thread-3","name":"Testing \/api\/accounts\/get-account with valid accountId","startTime":1730328490679,"refId":"[1:13]","endTime":1730328492292,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1301600,"startTime":1730328490777,"endTime":1730328490778,"millis":1.3016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"url baseUrl"},"stepLog":"18:48:10.745 karate.env system property: null \n"},{"result":{"nanos":1307019900,"startTime":1730328490793,"endTime":1730328492100,"millis":1307.0199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def generateTokenResult = callonce read('classpath:features\/tokens\/GenerateSupervisorToken.feature')"},"stepLog":"18:48:12.099 << lock released, cached callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/tokens\/GenerateSupervisorToken.feature","packageQualifiedName":"features.tokens.GenerateSupervisorToken","loopIndex":-1,"relativePath":"features\/tokens\/GenerateSupervisorToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":65459400,"startTime":1730328490801,"endTime":1730328490866,"millis":65.4594,"status":"passed"},"step":{"comments":["# Load the JSON file"],"background":true,"line":6,"prefix":"*","index":0,"text":"def data = read('classpath:data\/credentials.json')"},"stepLog":"18:48:10.796 >> lock acquired, begin callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n"},{"result":{"nanos":554200,"startTime":1730328490867,"endTime":1730328490868,"millis":0.5542,"status":"passed"},"step":{"comments":["# Access values from the JSON file"],"background":true,"line":9,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":625600,"startTime":1730328490868,"endTime":1730328490869,"millis":0.6256,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"def supervisorUsername = data.supervisorCredentials.username"}},{"result":{"nanos":870500,"startTime":1730328490868,"endTime":1730328490869,"millis":0.8705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"def supervisorPassword = data.supervisorCredentials.password"}},{"result":{"nanos":206300,"startTime":1730328490869,"endTime":1730328490869,"millis":0.2063,"status":"passed"},"step":{"line":15,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":187900,"startTime":1730328490869,"endTime":1730328490869,"millis":0.1879,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"path '\/api\/token'"}},{"result":{"nanos":844000,"startTime":1730328490869,"endTime":1730328490870,"millis":0.844,"status":"passed"},"step":{"endLine":23,"line":17,"prefix":"And","docString":"{\n  \"username\": \"#(supervisorUsername)\",\n  \"password\": \"#(supervisorPassword)\"\n}","index":2,"text":"request"}},{"result":{"nanos":1227299300,"startTime":1730328490870,"endTime":1730328492097,"millis":1227.2993,"status":"passed"},"step":{"line":24,"prefix":"When","index":3,"text":"method post"},"stepLog":"18:48:11.236 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}\n\n18:48:12.097 response time in milliseconds: 861\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 22:48:12 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"fullName\":\"Supervisor\",\"username\":\"supervisor\",\"token\":\"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5MiwiaWF0IjoxNzMwMzI4NDkyLCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ip4m9kFFOdoGv_silM8mPeitlntmeLIa9Xp-p-dZGmA\",\"tokenExpiration\":1730414892929,\"issueAt\":1730328492929,\"accountType\":\"CSR\"}\n\n"},{"result":{"nanos":5100,"startTime":1730328492098,"endTime":1730328492098,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":882600,"startTime":1730328492098,"endTime":1730328492099,"millis":0.8826,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"match response != null"}},{"result":{"nanos":467700,"startTime":1730328492099,"endTime":1730328492099,"millis":0.4677,"status":"passed"},"step":{"line":27,"prefix":"And","index":6,"text":"def authToken = response.token"}}],"line":14,"description":"","durationMillis":1297.4026,"failed":false,"tags":["Regression"],"executorName":"pool-1-thread-4","name":"Generate valid token for supervisor","startTime":1730328490801,"refId":"[1:14]","endTime":1730328492099,"exampleIndex":-1}],"callDepth":1,"name":"Generate Token for Supervisor User","description":"","resultDate":"2024-10-30 06:48:12 PM","durationMillis":1297.4026,"passedCount":1}]},{"result":{"nanos":1714600,"startTime":1730328492099,"endTime":1730328492101,"millis":1.7146,"status":"passed"},"step":{"background":true,"line":7,"prefix":"Then","index":2,"text":"print generateTokenResult"},"stepLog":"18:48:12.100 [print] {\n  \"baseUrl\": \"https:\/\/dev.insurance-api.tekschool-students.com\",\n  \"responseHeaders\": {\n    \"Content-Type\": [\n      \"application\/json\"\n    ],\n    \"Date\": [\n      \"Wed, 30 Oct 2024 22:48:12 GMT\"\n    ],\n    \"Cache-Control\": [\n      \"no-cache, no-store, max-age=0, must-revalidate\"\n    ],\n    \"Expires\": [\n      \"0\"\n    ],\n    \"Pragma\": [\n      \"no-cache\"\n    ],\n    \"Transfer-Encoding\": [\n      \"chunked\"\n    ],\n    \"Vary\": [\n      \"Origin\",\n      \"Access-Control-Request-Method\",\n      \"Access-Control-Request-Headers\"\n    ],\n    \"X-Content-Type-Options\": [\n      \"nosniff\"\n    ],\n    \"X-XSS-Protection\": [\n      \"1; mode=block\"\n    ],\n    \"X-Frame-Options\": [\n      \"DENY\"\n    ],\n    \"Set-Cookie\": [\n    ]\n  },\n  \"data\": {\n    \"supervisorCredentials\": {\n      \"username\": \"supervisor\",\n      \"password\": \"tek_supervisor\"\n    },\n    \"operatorCredentials\": {\n      \"username\": \"operator_readonly\",\n      \"password\": \"Tek4u2024\"\n    }\n  },\n  \"responseTime\": 861,\n  \"response\": {\n    \"fullName\": \"Supervisor\",\n    \"username\": \"supervisor\",\n    \"token\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5MiwiaWF0IjoxNzMwMzI4NDkyLCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ip4m9kFFOdoGv_silM8mPeitlntmeLIa9Xp-p-dZGmA\",\n    \"tokenExpiration\": 1730414892929,\n    \"issueAt\": 1730328492929,\n    \"accountType\": \"CSR\"\n  },\n  \"supervisorPassword\": \"tek_supervisor\",\n  \"authToken\": \"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5MiwiaWF0IjoxNzMwMzI4NDkyLCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ip4m9kFFOdoGv_silM8mPeitlntmeLIa9Xp-p-dZGmA\",\n  \"supervisorUsername\": \"supervisor\",\n  \"responseStatus\": 200\n}\n \n"},{"result":{"nanos":2171900,"startTime":1730328492102,"endTime":1730328492104,"millis":2.1719,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def validToken = \"Bearer \" + generateTokenResult.authToken"}},{"result":{"nanos":208000,"startTime":1730328492104,"endTime":1730328492104,"millis":0.208,"status":"passed"},"step":{"background":true,"line":9,"prefix":"Given","index":4,"text":"path \"\/api\/accounts\/get-account\""}},{"result":{"nanos":140600,"startTime":1730328492104,"endTime":1730328492104,"millis":0.1406,"status":"passed"},"step":{"background":true,"line":10,"prefix":"Given","index":5,"text":"header Authorization = validToken"}},{"result":{"nanos":1183600,"startTime":1730328492104,"endTime":1730328492105,"millis":1.1836,"status":"passed"},"step":{"line":22,"prefix":"*","index":0,"text":"def accountId = 55231"}},{"result":{"nanos":770500,"startTime":1730328492105,"endTime":1730328492106,"millis":0.7705,"status":"passed"},"step":{"line":23,"prefix":"Given","index":1,"text":"param primaryPersonId = accountId"}},{"result":{"nanos":150672100,"startTime":1730328492106,"endTime":1730328492257,"millis":150.6721,"status":"passed"},"step":{"line":24,"prefix":"When","index":2,"text":"method get"},"stepLog":"18:48:12.108 request:\n1 > GET https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/get-account?primaryPersonId=55231\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5MiwiaWF0IjoxNzMwMzI4NDkyLCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.ip4m9kFFOdoGv_silM8mPeitlntmeLIa9Xp-p-dZGmA\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:48:12.256 response time in milliseconds: 147\n1 < 404\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 22:48:12 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"httpStatus\":\"NOT_FOUND\",\"errorMessage\":\"Account with id 55231 not found\"}\n\n"},{"result":{"nanos":4700,"startTime":1730328492256,"endTime":1730328492256,"millis":0.0047,"status":"passed"},"step":{"comments":["#    Optional step just in case if you would like to print the response","#    Then print response"],"line":27,"prefix":"Then","index":3,"text":"status 404"}},{"result":{"nanos":9596800,"startTime":1730328492256,"endTime":1730328492266,"millis":9.5968,"status":"passed"},"step":{"line":28,"prefix":"Then","index":4,"text":"assert response.errorMessage == \"Account with id \" + accountId + \" not found\""}}],"line":21,"description":"","durationMillis":1474.7843,"failed":false,"tags":["Regression","Account_2"],"executorName":"pool-1-thread-4","name":"Testing \/api\/accounts\/get-account with non-existing accountId","startTime":1730328490679,"refId":"[2:21]","endTime":1730328492266,"exampleIndex":-1}],"callDepth":0,"name":"Testing Account APIs","description":"","resultDate":"2024-10-30 06:48:12 PM","durationMillis":2974.1448,"passedCount":2}