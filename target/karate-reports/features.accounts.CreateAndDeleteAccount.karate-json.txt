{"failedCount":0,"prefixedPath":"classpath:features\/accounts\/CreateAndDeleteAccount.feature","packageQualifiedName":"features.accounts.CreateAndDeleteAccount","loopIndex":-1,"relativePath":"features\/accounts\/CreateAndDeleteAccount.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":51100,"startTime":1730328492270,"endTime":1730328492270,"millis":0.0511,"status":"passed"},"step":{"background":true,"line":5,"prefix":"Given","index":0,"text":"url baseUrl"},"stepLog":"18:48:12.269 karate.env system property: null \n"},{"result":{"nanos":1015562300,"startTime":1730328492270,"endTime":1730328493286,"millis":1015.5623,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def supervisorToken = callonce read('classpath:features\/tokens\/GenerateSupervisorToken.feature')"},"stepLog":"18:48:13.285 << lock released, cached callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/tokens\/GenerateSupervisorToken.feature","packageQualifiedName":"features.tokens.GenerateSupervisorToken","loopIndex":-1,"relativePath":"features\/tokens\/GenerateSupervisorToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":908100,"startTime":1730328492276,"endTime":1730328492277,"millis":0.9081,"status":"passed"},"step":{"comments":["# Load the JSON file"],"background":true,"line":6,"prefix":"*","index":0,"text":"def data = read('classpath:data\/credentials.json')"},"stepLog":"18:48:12.270 >> lock acquired, begin callonce: read('classpath:features\/tokens\/GenerateSupervisorToken.feature')\n"},{"result":{"nanos":118200,"startTime":1730328492277,"endTime":1730328492277,"millis":0.1182,"status":"passed"},"step":{"comments":["# Access values from the JSON file"],"background":true,"line":9,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":229500,"startTime":1730328492277,"endTime":1730328492277,"millis":0.2295,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":2,"text":"def supervisorUsername = data.supervisorCredentials.username"}},{"result":{"nanos":136700,"startTime":1730328492277,"endTime":1730328492277,"millis":0.1367,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":3,"text":"def supervisorPassword = data.supervisorCredentials.password"}},{"result":{"nanos":46700,"startTime":1730328492277,"endTime":1730328492277,"millis":0.0467,"status":"passed"},"step":{"line":15,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":55900,"startTime":1730328492277,"endTime":1730328492277,"millis":0.0559,"status":"passed"},"step":{"line":16,"prefix":"And","index":1,"text":"path '\/api\/token'"}},{"result":{"nanos":218500,"startTime":1730328492277,"endTime":1730328492277,"millis":0.2185,"status":"passed"},"step":{"endLine":23,"line":17,"prefix":"And","docString":"{\n  \"username\": \"#(supervisorUsername)\",\n  \"password\": \"#(supervisorPassword)\"\n}","index":2,"text":"request"}},{"result":{"nanos":1007143200,"startTime":1730328492278,"endTime":1730328493285,"millis":1007.1432,"status":"passed"},"step":{"line":24,"prefix":"When","index":3,"text":"method post"},"stepLog":"18:48:12.279 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/token\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"username\":\"supervisor\",\"password\":\"tek_supervisor\"}\n\n18:48:13.284 response time in milliseconds: 1005\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 22:48:14 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"fullName\":\"Supervisor\",\"username\":\"supervisor\",\"token\":\"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5NCwiaWF0IjoxNzMwMzI4NDk0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.CvyK4417WC4a2JUjSXIsx1Xm88qqMVoDCKZibTpo460\",\"tokenExpiration\":1730414894116,\"issueAt\":1730328494116,\"accountType\":\"CSR\"}\n\n"},{"result":{"nanos":12900,"startTime":1730328493284,"endTime":1730328493284,"millis":0.0129,"status":"passed"},"step":{"line":25,"prefix":"Then","index":4,"text":"status 200"}},{"result":{"nanos":597100,"startTime":1730328493284,"endTime":1730328493285,"millis":0.5971,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"match response != null"}},{"result":{"nanos":245200,"startTime":1730328493285,"endTime":1730328493285,"millis":0.2452,"status":"passed"},"step":{"line":27,"prefix":"And","index":6,"text":"def authToken = response.token"}}],"line":14,"description":"","durationMillis":1009.712,"failed":false,"tags":["Regression"],"executorName":"pool-1-thread-4","name":"Generate valid token for supervisor","startTime":1730328492276,"refId":"[1:14]","endTime":1730328493285,"exampleIndex":-1}],"callDepth":1,"name":"Generate Token for Supervisor User","description":"","resultDate":"2024-10-30 06:48:14 PM","durationMillis":1009.712,"passedCount":1}]},{"result":{"nanos":269400,"startTime":1730328493286,"endTime":1730328493286,"millis":0.2694,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def token = \"Bearer \" + supervisorToken.response.token"}},{"result":{"nanos":286387500,"startTime":1730328493286,"endTime":1730328493572,"millis":286.3875,"status":"passed"},"step":{"comments":["# Step 1: Create Account"],"line":12,"prefix":"*","index":0,"text":"def createAccount = callonce read('classpath:features\/accounts\/CreateAccountWithRandomEmail.feature')"},"stepLog":"18:48:13.572 << lock released, cached callonce: read('classpath:features\/accounts\/CreateAccountWithRandomEmail.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:features\/accounts\/CreateAccountWithRandomEmail.feature","packageQualifiedName":"features.accounts.CreateAccountWithRandomEmail","loopIndex":-1,"relativePath":"features\/accounts\/CreateAccountWithRandomEmail.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":544900,"startTime":1730328493289,"endTime":1730328493290,"millis":0.5449,"status":"passed"},"step":{"comments":["# Load the account data from the JSON file"],"background":true,"line":6,"prefix":"*","index":0,"text":"def accountData = read('classpath:data\/accountData.json')"},"stepLog":"18:48:13.287 >> lock acquired, begin callonce: read('classpath:features\/accounts\/CreateAccountWithRandomEmail.feature')\n"},{"result":{"nanos":59400,"startTime":1730328493289,"endTime":1730328493289,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":1,"text":"def baseUrl = baseUrl"}},{"result":{"nanos":206900,"startTime":1730328493289,"endTime":1730328493289,"millis":0.2069,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":2,"text":"def account = accountData.account"}},{"result":{"nanos":377400,"startTime":1730328493290,"endTime":1730328493290,"millis":0.3774,"status":"passed"},"step":{"comments":["# Generate a random email using the Java utility class"],"background":true,"line":11,"prefix":"*","index":3,"text":"def dataGenerator = Java.type('utilities.GenerateEmail')"}},{"result":{"nanos":220900,"startTime":1730328493290,"endTime":1730328493290,"millis":0.2209,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":4,"text":"def email = dataGenerator.generateRandomEmail()"}},{"result":{"nanos":36400,"startTime":1730328493290,"endTime":1730328493290,"millis":0.0364,"status":"passed"},"step":{"line":17,"prefix":"Given","index":0,"text":"url baseUrl"}},{"result":{"nanos":88500,"startTime":1730328493290,"endTime":1730328493290,"millis":0.0885,"status":"passed"},"step":{"line":18,"prefix":"Given","index":1,"text":"path \"\/api\/accounts\/add-primary-account\""}},{"result":{"nanos":953300,"startTime":1730328493291,"endTime":1730328493292,"millis":0.9533,"status":"passed"},"step":{"endLine":31,"line":19,"prefix":"Given","docString":"{\n  \"email\": \"#(email)\",\n  \"firstName\": \"#(account.firstName)\",\n  \"lastName\": \"#(account.lastName)\",\n  \"title\": \"#(account.title)\",\n  \"gender\": \"#(account.gender)\",\n  \"maritalStatus\": \"#(account.maritalStatus)\",\n  \"employmentStatus\": \"#(account.employmentStatus)\",\n  \"dateOfBirth\": \"#(account.dateOfBirth)\"\n}","index":2,"text":"request"}},{"result":{"nanos":279259900,"startTime":1730328493292,"endTime":1730328493571,"millis":279.2599,"status":"passed"},"step":{"line":32,"prefix":"When","index":3,"text":"method post"},"stepLog":"18:48:13.292 request:\n1 > POST https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/add-primary-account\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 205\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n{\"email\":\"test27674044@tekSchool.us\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"title\":\"Mr.\",\"gender\":\"MALE\",\"maritalStatus\":\"Single\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":\"1985-02-27\"}\n\n18:48:13.570 response time in milliseconds: 278\n1 < 201\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 22:48:14 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"id\":11044,\"email\":\"test27674044@tekSchool.us\",\"title\":\"Mr.\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"gender\":\"MALE\",\"maritalStatus\":\"SINGLE\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":[1985,2,27]}\n\n"},{"result":{"nanos":900300,"startTime":1730328493570,"endTime":1730328493571,"millis":0.9003,"status":"passed"},"step":{"line":33,"prefix":"Then","index":4,"text":"print response"},"stepLog":"18:48:13.572 [print] {\n  \"id\": 11044,\n  \"email\": \"test27674044@tekSchool.us\",\n  \"title\": \"Mr.\",\n  \"firstName\": \"Mohammad\",\n  \"lastName\": \"Shokriyan\",\n  \"gender\": \"MALE\",\n  \"maritalStatus\": \"SINGLE\",\n  \"employmentStatus\": \"Software Developer\",\n  \"dateOfBirth\": [\n    1985,\n    2,\n    27\n  ]\n}\n \n"},{"result":{"nanos":4200,"startTime":1730328493572,"endTime":1730328493572,"millis":0.0042,"status":"passed"},"step":{"line":34,"prefix":"Then","index":5,"text":"status 201"}},{"result":{"nanos":253400,"startTime":1730328493572,"endTime":1730328493572,"millis":0.2534,"status":"passed"},"step":{"line":35,"prefix":"Then","index":6,"text":"assert response.email == email"}}],"line":16,"description":"","durationMillis":282.9055,"failed":false,"tags":["Regression","CreateAccount_2"],"executorName":"pool-1-thread-4","name":"Create Account using Java and random email","startTime":1730328493289,"refId":"[1:16]","endTime":1730328493572,"exampleIndex":-1}],"callDepth":1,"name":"Create new Account with Random Email","description":"","resultDate":"2024-10-30 06:48:14 PM","durationMillis":282.9055,"passedCount":1}]},{"result":{"nanos":220200,"startTime":1730328493573,"endTime":1730328493573,"millis":0.2202,"status":"passed"},"step":{"line":13,"prefix":"*","index":1,"text":"def newAccountId = createAccount.response.id"}},{"result":{"nanos":128200,"startTime":1730328493573,"endTime":1730328493573,"millis":0.1282,"status":"passed"},"step":{"comments":["# Step 2: Retrieve the created account and verify details"],"line":16,"prefix":"Given","index":2,"text":"path \"\/api\/accounts\/get-account\""}},{"result":{"nanos":46600,"startTime":1730328493573,"endTime":1730328493573,"millis":0.0466,"status":"passed"},"step":{"line":17,"prefix":"And","index":3,"text":"header Authorization = token"}},{"result":{"nanos":104100,"startTime":1730328493573,"endTime":1730328493573,"millis":0.1041,"status":"passed"},"step":{"line":18,"prefix":"And","index":4,"text":"param primaryPersonId = newAccountId"}},{"result":{"nanos":148036800,"startTime":1730328493573,"endTime":1730328493721,"millis":148.0368,"status":"passed"},"step":{"line":19,"prefix":"When","index":5,"text":"method get"},"stepLog":"18:48:13.574 request:\n1 > GET https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/get-account?primaryPersonId=11044\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5NCwiaWF0IjoxNzMwMzI4NDk0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.CvyK4417WC4a2JUjSXIsx1Xm88qqMVoDCKZibTpo460\n1 > Host: dev.insurance-api.tekschool-students.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\n\n\n18:48:13.721 response time in milliseconds: 146\n1 < 200\n1 < Content-Type: application\/json\n1 < Date: Wed, 30 Oct 2024 22:48:14 GMT\n1 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n1 < Expires: 0\n1 < Pragma: no-cache\n1 < Transfer-Encoding: chunked\n1 < Vary: Origin\n1 < Vary: Access-Control-Request-Method\n1 < Vary: Access-Control-Request-Headers\n1 < X-Content-Type-Options: nosniff\n1 < X-XSS-Protection: 1; mode=block\n1 < X-Frame-Options: DENY\n{\"primaryPerson\":{\"id\":11044,\"email\":\"test27674044@tekSchool.us\",\"title\":\"Mr.\",\"firstName\":\"Mohammad\",\"lastName\":\"Shokriyan\",\"gender\":\"MALE\",\"maritalStatus\":\"SINGLE\",\"employmentStatus\":\"Software Developer\",\"dateOfBirth\":[1985,2,27]},\"primaryPersonMailingAddresses\":[],\"primaryPersonPhones\":[],\"primaryPersonCars\":[],\"plans\":[],\"user\":null}\n\n"},{"result":{"nanos":4600,"startTime":1730328493721,"endTime":1730328493721,"millis":0.0046,"status":"passed"},"step":{"line":20,"prefix":"Then","index":6,"text":"status 200"}},{"result":{"nanos":693100,"startTime":1730328493721,"endTime":1730328493722,"millis":0.6931,"status":"passed"},"step":{"line":21,"prefix":"And","index":7,"text":"assert response.primaryPerson.id == newAccountId"}},{"result":{"nanos":171800,"startTime":1730328493722,"endTime":1730328493722,"millis":0.1718,"status":"passed"},"step":{"line":22,"prefix":"And","index":8,"text":"assert response.primaryPerson.email == createAccount.response.email"}},{"result":{"nanos":168800,"startTime":1730328493722,"endTime":1730328493722,"millis":0.1688,"status":"passed"},"step":{"line":23,"prefix":"And","index":9,"text":"assert response.primaryPerson.gender == createAccount.response.gender"}},{"result":{"nanos":147100,"startTime":1730328493722,"endTime":1730328493722,"millis":0.1471,"status":"passed"},"step":{"line":24,"prefix":"And","index":10,"text":"assert response.primaryPerson.firstName == createAccount.response.firstName"}},{"result":{"nanos":83600,"startTime":1730328493722,"endTime":1730328493722,"millis":0.0836,"status":"passed"},"step":{"comments":["# Step 3: Delete the created account"],"line":27,"prefix":"Given","index":11,"text":"path \"\/api\/accounts\/delete-account\""}},{"result":{"nanos":93400,"startTime":1730328493722,"endTime":1730328493722,"millis":0.0934,"status":"passed"},"step":{"line":28,"prefix":"And","index":12,"text":"param primaryPersonId = newAccountId"}},{"result":{"nanos":31800,"startTime":1730328493723,"endTime":1730328493723,"millis":0.0318,"status":"passed"},"step":{"line":29,"prefix":"And","index":13,"text":"header Authorization = token"}},{"result":{"nanos":243918100,"startTime":1730328493723,"endTime":1730328493967,"millis":243.9181,"status":"passed"},"step":{"line":30,"prefix":"When","index":14,"text":"method delete"},"stepLog":"18:48:13.723 request:\n2 > DELETE https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/delete-account?primaryPersonId=11044\n2 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5NCwiaWF0IjoxNzMwMzI4NDk0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.CvyK4417WC4a2JUjSXIsx1Xm88qqMVoDCKZibTpo460\n2 > Host: dev.insurance-api.tekschool-students.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n2 > Accept-Encoding: gzip,deflate\n\n\n18:48:13.967 response time in milliseconds: 243\n2 < 202\n2 < Content-Type: application\/json\n2 < Date: Wed, 30 Oct 2024 22:48:14 GMT\n2 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n2 < Expires: 0\n2 < Pragma: no-cache\n2 < Transfer-Encoding: chunked\n2 < Vary: Origin\n2 < Vary: Access-Control-Request-Method\n2 < Vary: Access-Control-Request-Headers\n2 < X-Content-Type-Options: nosniff\n2 < X-XSS-Protection: 1; mode=block\n2 < X-Frame-Options: DENY\n{\"status\":true,\"httpStatus\":\"ACCEPTED\",\"message\":\"Account Successfully deleted\"}\n\n"},{"result":{"nanos":5000,"startTime":1730328493967,"endTime":1730328493967,"millis":0.005,"status":"passed"},"step":{"line":31,"prefix":"Then","index":15,"text":"status 202"}},{"result":{"nanos":49600,"startTime":1730328493967,"endTime":1730328493967,"millis":0.0496,"status":"passed"},"step":{"comments":["# Step 4: Verify the account no longer exists by attempting another delete"],"line":34,"prefix":"Given","index":16,"text":"path \"\/api\/accounts\/delete-account\""}},{"result":{"nanos":87800,"startTime":1730328493967,"endTime":1730328493967,"millis":0.0878,"status":"passed"},"step":{"line":35,"prefix":"And","index":17,"text":"param primaryPersonId = newAccountId"}},{"result":{"nanos":29300,"startTime":1730328493967,"endTime":1730328493967,"millis":0.0293,"status":"passed"},"step":{"line":36,"prefix":"And","index":18,"text":"header Authorization = token"}},{"result":{"nanos":191634600,"startTime":1730328493967,"endTime":1730328494159,"millis":191.6346,"status":"passed"},"step":{"line":37,"prefix":"When","index":19,"text":"method delete"},"stepLog":"18:48:13.968 request:\n3 > DELETE https:\/\/dev.insurance-api.tekschool-students.com\/api\/accounts\/delete-account?primaryPersonId=11044\n3 > Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJTRUxGIiwic3ViIjoiU1VQRVJWSVNPUiIsImV4cCI6MTczMDQxNDg5NCwiaWF0IjoxNzMwMzI4NDk0LCJzY29wZSI6IlJFQUQgVVNFUiBBRE1JTiJ9.CvyK4417WC4a2JUjSXIsx1Xm88qqMVoDCKZibTpo460\n3 > Host: dev.insurance-api.tekschool-students.com\n3 > Connection: Keep-Alive\n3 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n3 > Accept-Encoding: gzip,deflate\n\n\n18:48:14.158 response time in milliseconds: 190\n3 < 404\n3 < Content-Type: application\/json\n3 < Date: Wed, 30 Oct 2024 22:48:14 GMT\n3 < Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n3 < Expires: 0\n3 < Pragma: no-cache\n3 < Transfer-Encoding: chunked\n3 < Vary: Origin\n3 < Vary: Access-Control-Request-Method\n3 < Vary: Access-Control-Request-Headers\n3 < X-Content-Type-Options: nosniff\n3 < X-XSS-Protection: 1; mode=block\n3 < X-Frame-Options: DENY\n{\"httpStatus\":\"NOT_FOUND\",\"errorMessage\":\"Account with id 11044 not exist\"}\n\n"},{"result":{"nanos":6300,"startTime":1730328494159,"endTime":1730328494159,"millis":0.0063,"status":"passed"},"step":{"line":38,"prefix":"Then","index":20,"text":"status 404"}},{"result":{"nanos":521800,"startTime":1730328494159,"endTime":1730328494160,"millis":0.5218,"status":"passed"},"step":{"line":39,"prefix":"And","index":21,"text":"assert response.errorMessage == \"Account with id \" + newAccountId + \" not exist\""}}],"line":10,"description":"","durationMillis":1888.4529,"failed":false,"tags":["End2EndAccount","Regression"],"executorName":"pool-1-thread-4","name":"Successfully create, retrieve, and delete an account","startTime":1730328492269,"refId":"[1:10]","endTime":1730328494159,"exampleIndex":-1}],"callDepth":0,"name":"End-to-End Testing: Create to Delete an Account","description":"","resultDate":"2024-10-30 06:48:14 PM","durationMillis":1888.4529,"passedCount":1}